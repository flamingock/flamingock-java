id: multiple-operations-change
transactional: false
template: MongoChangeTemplate
targetSystem:
  id: "mongodb"
apply:
  - type: createCollection
    collection: products

  - type: insert
    collection: products
    parameters:
      documents:
        - name: "Laptop"
          price: 999.99
          category: "Electronics"
        - name: "Keyboard"
          price: 79.99
          category: "Electronics"
        - name: "Mouse"
          price: 29.99
          category: "Electronics"

  - type: createIndex
    collection: products
    parameters:
      keys:
        category: 1
      options:
        name: "category_index"
